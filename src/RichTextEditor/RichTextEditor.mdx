import { ArgTypes,  Canvas } from '@storybook/blocks';
import RichTextEditor from './RichTextEditor';
import * as ComponentStories from './RichTextEditor.stories';

# RichTextEditor

<h4>
  RichTextEditor is a field element which provides a "what you see is what you get" (WYSIWYG) editor for HTML content.
</h4>

<Canvas of={ComponentStories.Default} />

### When to use
To allow users to edit text where formatting is important, such as messages to be sent via email.

### When to not use
When formatting is not important. In those cases regular form inputs are a better fit.

## Props

<ArgTypes of={RichTextEditor} />

## Stories

By default RichTextEditor includes all available formatting actions.
If you'd like to limit which options are available you can do so by passing the actions you'd like to the `availableActions` prop in an array.

<Canvas of={ComponentStories.AvailableActions} />

Provide an object where the keys are ARIA attributes to `ariaAttributes` to pass them along to the text input field for accessibility purposes.

<Canvas of={ComponentStories.ARIAAttributes} />

If you set a character limit then the length of the inputted text will be restricted accordingly, including if longer text is pasted.
A counter will also be shown below the input so you know how close you are to hitting the limit.

<Canvas of={ComponentStories.CharacterLimit} />

You are also able to limit input to one line. This can be useful in situations where a limited amount of text is idea, but formatting is important.
The `isOneLine` and `characterLimit` props can be used together in cases where you really need to restrict text length.

<Canvas of={ComponentStories.OneLine} />

RichTextEditor also has an error state to display that the input is invalid. The most common use case for this is when it is a required field and the input is empty,
but by setting `hasErrors` via your provided `onChange` callback you can check the HTML produced by the RichTextEditor for any requirements that you have.

<Canvas of={ComponentStories.Error} />

RichTextEditor can optionally take in a forwardedRef to allow content to be programmatically manipulated.

<Canvas of={ComponentStories.SetContent} />

RichTextEditor can be set to read-only mode by setting the `editable` prop to `false` (e.g., when user permissions don't allow them to edit a certain field).

<Canvas of={ComponentStories.NotEditable} />

RichTextEditor can be configured to be used in display mode only which is useful when displaying rich text when you have to do something extra with it (e.g character truncation with summary display).
Modify `displayMode` to `true`. This will automatically put the editor in not editable mode as well. You can also provide optional `onTruncate` callback that will be called if RichTextEditor truncates text.

<Canvas of={ComponentStories.DisplayMode} />

If you're using RichTextEditor with `displayMode` and `characterLimit` then your text will be truncated to plaintext if it's above the char limit.
But if your text is below the limit, then it'll still be displayed as rich text.

E.g with text above the `characterLimit`

<Canvas of={ComponentStories.DisplayModeWithCharacterLimitAbove} />

E.g with text below the `characterLimit`

<Canvas of={ComponentStories.DisplayModeWithCharacterLimitBelow} />

